extends index.jade

block title
	| Runden


block main
	div(ng-controller="SaisonController")
		h1 
			block title
			| 
			small ({{totalItems}} {{totalItems == 1 ? "Ergebniss" : "Ergebnisse"}})
		table(class="table table-hover table-striped")
			thead
				tr
					//- +tableHeader("ID", "id")
					+tableHeader("Name", "name")
					th(style="width:10%;")
				tr
					td(colspan="1")
						input(type="text" class="form-control container-fluid" ng-model="store.search" placeholder="Suche")
					td
						button(type="button" class="btn btn-primary btn noMargin col-xs-12" ng-click="newEntry()")
							span(class="glyphicon glyphicon-plus" aria-hidden="true")
							|  Neu
			tbody
				tr(ng-repeat="saison in saisons track by $index")
					//- td {{saison.id}}
					td {{saison.name}}
					td
						button(type="button" class="btn btn-link btn-sm noMargin col-xs-12" ng-click="editEntry(saison)")
							span(class="glyphicon glyphicon-pencil" aria-hidden="true")
							|  Bearbeiten
		div(class="dropup noMargin")
			div(class="btn-group pull-left" uib-dropdown is-open="status.isopen")
				button(id="single-button" type="button" class="btn btn-default noMargin" uib-dropdown-toggle ng-disabled="disabled")
					| Einträge pro Seite: {{store.itemsPerPage}} 
					span(class="caret")
				ul(class="uib-dropdown-menu" role="menu" aria-labelledby="single-button")
					li(role="menuitem")
						a(ng-click="store.itemsPerPage = 10;") 10
					li(role="menuitem")
						a(ng-click="store.itemsPerPage = 20") 20
					li(role="menuitem")
						a(ng-click="store.itemsPerPage = 50") 50
					li(role="menuitem")
						a(ng-click="store.itemsPerPage = 100") 100
		div(class="noMargin pull-right")
			uib-pagination(total-items="totalItems" items-per-page="store.itemsPerPage" ng-model="currentPage" max-size="paginationMaxSize" class="pagination noMargin" boundary-links="true" previous-text="Zurück" next-text="Weiter" first-text="Erste" last-text="Letzte")
		
		
		//- modalEditingOverlay template
		script(type="text/ng-template" id="modalEditingOverlay.html")

			div(class="modal-header")
				button(type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()")
					span(aria-hidden="true") &times
				h4(class="modal-title" id="exampleModalLabel")
					span(class="glyphicon glyphicon-calendar" aria-hidden="true")
					|  {{saison.name}}
			div(class="modal-body")
				form
					//- div(class="row")
					//- 	div(class="form-group col-xs-6")
					//- 		label(class="control-label") ID:
					//- 		p(class="form-control") {{saison.id}}
					//- .divider
					div(class="row")
						div(class="form-group col-xs-6")
							label(class="control-label") Name:
							input(type="text" class="form-control" ng-model="saison.name")
					.divider
					div(class="form-group")
						label(for="message-text" class="control-label") Notiz:
						textarea(class="form-control" id="message-text" ng-model="saison.note")
			div(class="modal-footer")
				button(class="btn btn-danger pull-left" type="button" ng-click="delete()")
					span(class="glyphicon glyphicon-trash" aria-hidden="true")
					|  Löschen
				button(class="btn btn-primary" type="button" ng-click="save()")
					span(class="glyphicon glyphicon-floppy-disk" aria-hidden="true")
					|  Speichern
