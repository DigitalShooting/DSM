mixin navElement(url, text, icon)
	- var urlPath = url
	- if (urlPath.substring(0, 1) == ".") urlPath = urlPath.substring(1, urlPath.length) 
	li(class=(req.originalUrl.indexOf(urlPath) > -1 ? "active" : ""))
		a(href=url)
			- if (icon != undefined){
				span(class="glyphicon #{icon}" aria-hidden="true")
				|  #{text}
			- } else {
				| #{text}
			- }
	
mixin inputDefault(name, value, label)
	div(class="form-group")
		label(class="col-sm-2 control-label") #{label}
		div(class="col-sm-10")
			input(type="" name=name value=value class="form-control" placeholder=label)
		
mixin inputDisabled(value, label)
	div(class="form-group")
		label(class="col-sm-2 control-label") #{label}
		div(class="col-sm-10")
			p(class="form-control-static") #{value}
		
mixin inputSelect(name, options, selectedID, title)
	div(class="form-group")
		label(class="col-sm-2 control-label") #{title}
		div(class="col-sm-10")
			select(name=name class="selectpicker "+name style="width:100%")
				- options.forEach(function(option){
					- if(option.id == selectedID){
						option(value=option.id selected="selected") #{option.title}
					- } else {
						option(value=option.id) #{option.title}
					- }
				- })

doctype html
html(lang="en")
	head
		title
			block title
			
			
		// Custom style
		link(href="/css/style.css", rel="stylesheet")
		
		// Socket.io
		script(src="/socket.io/socket.io.js")
		
		// jquery
		script(src="/libs/jquery/dist/jquery.js")
		
		// bootstap
		script(src="/libs/bootstrap/dist/js/bootstrap.min.js")
		link(href="/libs/select2-bootstrap-theme/dist/select2-bootstrap.min.css", rel="stylesheet")
		
		// Angular
		script(src="/libs/angularjs/angular.min.js")
		script(src="/libs/angular-sanitize/angular-sanitize.min.js")
		script(src='/libs/angular-route/angular-route.js')
		script(src="/libs/angular-socket-io/socket.js")
		script(src='/libs/angular-animate/angular-animate.min.js')
		
		// Select2
		script(src="/libs/select2/dist/js/select2.full.min.js")
		link(href="/libs/select2/dist/css/select2.min.css", rel="stylesheet")
		script(src="/libs/angular-ui-select/dist/select.js")
		link(href="/libs/angular-ui-select/dist/select.css", rel="stylesheet")
		
		// Custom Services
		script(src='/js/services/confirm.js')
		script(src='/js/services/filter.js')
		script(src='/js/services/sockets.js')
		
		script(src="/js/lines.js")
		
		
		script.
			$(document).ready(function() {
				$(".selectpicker").select2({
					theme: "bootstrap"
				})
			})
			
			
			//- angular.module("dsm", [
			//- 	"dsm.services.confirm",
			//- 	"dsm.services.sockets",
			//- 	
			//- 	"dsm.conrtollers.lines",
			//- ])
			//- .controller("exit", ["$scope", "dsmSocket", function ($scope, dsmSocket) {
			//- 	$scope.exit = function(){
			//- 		dsmSocket.emit("exit", {})
			//- 	}
			//- }])
			
			
			
		script.
			var dsmSocket = io()
		
		meta(name="viewport", content="width=device-width")
	body
		nav(class="navbar navbar-default")
			div(class="container-fluid")
				div(class="navbar-header")
					button(type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1")
						span(class="sr-only") Toggle navigation
						span(class="icon-bar")
						span(class="icon-bar")
						span(class="icon-bar")
					//- a(class="navbar-brand" href="/") DSM
				
				div(class="collapse navbar-collapse" id="bs-example-navbar-collapse-1")
					ul(class="nav navbar-nav")
						+navElement("/stammdaten/", "Stammdaten", "glyphicon-user")
						+navElement("/rwks/", "RWKs", "glyphicon-list-alt")
						+navElement("/lines/", "Stände", "glyphicon-list")
						+navElement("#/stats/", "Statistiken", "glyphicon-signal")
						
						//- +navElement("/live", "Live")
						//- +navElement("/auswertung", "Auswertung")
					ul(class="nav navbar-nav navbar-right" ng-controller="exit")
						a(href="/exit/")
							button(type="submit" class="btn btn-danger")
								span(class="glyphicon glyphicon-log-out" aria-hidden="true")
								|  Verlassen
					
		block body


		div(class="modal" id="shutdownConfirm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel")
			div(class="modal-dialog" role="document")
				div(class="modal-content")
					div(class="modal-header")
						//- button(type="button" class="close" data-dismiss="modal" aria-label="Close")
						//- 	span(aria-hidden="true") &times;
						h4(class="modal-title" id="myModalLabel") Herunterfahren
					div(class="modal-body")
						p Wirklich runterfahren?
					div(class="modal-footer")
						button(type="button" class="btn btn-default" data-dismiss="modal") Schließen
		
		
