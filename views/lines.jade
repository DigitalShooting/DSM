extends base.jade

block title
	| Verwaltung

block body
	section(class="col-md-3")
		h2 Stände
		ul(class="nav nav-pills nav-stacked")
			li(ng-repeat="line in lines" class="col-md-12")
				div(class="btn-group fullWidth" role="group")
					button(type="button" ng-click="toggleAll(false); toggle(line.id);" class="btn col-md-10 {{line.online ? 'btn-primary' : 'btn-default' }} {{store.linesSelected[line.id] == true ? 'selected' : 'deselected'}}") {{line.label}}
					button(type="button" ng-click="toggle(line.id)" class="btn col-md-2 {{line.online ? 'btn-primary' : 'btn-default' }} {{store.linesSelected[line.id] == true ? 'selected' : 'deselected'}}")
						span(class="glyphicon {{store.linesSelected[line.id] == true ? 'glyphicon-remove' : 'glyphicon-plus'}}" aria-hidden="true")
			li(class="col-md-12 btn-group" role="group")
				button(type="button" ng-click="toggleAll(true)" class="btn col-md-10 btn-default") Alle markieren
				button(type="button" ng-click="toggleAll(false)" class="btn col-md-2 btn-default")
					span(class="glyphicon glyphicon-remove" aria-hidden="true")
		
		
	section(class="col-md-9")
		h1
			block title
		
		
		//- disziplinTypeahead template
		script(type="text/ng-template" id="disziplinTypeahead.html")
			a {{match.model.verein}} {{match.model.name}} ({{match.model.saison}})
		
		
		.row
		
			//- Alert no selection
			.col-md-12
				div(class="bs-callout bs-callout-info" ng-hide="store.linesSelectedCount != 0")
					h4 Info
					p Kein Stand ausgewählt.
				//- div(class="alert alert-info" role="alert" ng-hide="store.linesSelectedCount != 0") Kein Stand ausgewählt.
		
		
			//- Main controls (power on/of, print)
			.col-md-6
				div(class="bs-callout bs-callout-primary" ng-hide="store.linesSelectedCount == 0")
					h4 Status
					div(class="btn-group fullWidth" role="group")
						button(type="submit" class="btn btn-default col-md-6" ng-click="setPower(false)")
							span(class="glyphicon glyphicon glyphicon-flash" aria-hidden="true")
							|  Herunterfahren
						button(type="submit" class="btn btn-primary col-md-6" ng-click="setPower(true)")
							span(class="glyphicon glyphicon glyphicon-log-out" aria-hidden="true")
							|  Hochfahren
		
		
			//- Disziplinen selection
			.col-md-6
				div(class="bs-callout bs-callout-info" ng-hide="store.linesSelectedCount == 0")
					div(class="row header")
						div(class="col-sm-6")
							h4 Disziplin
						div(class="col-sm-6")
							button(type="submit" class="btn btn-default noMargin pull-right" ng-click="actions.resetLine()")
								span(class="glyphicon glyphicon glyphicon-remove" aria-hidden="true")
								|  Zurücksetzen
					div(class="form-horizontal")
						div(class="form-group")
							label(class="col-sm-2 control-label") Disziplin
							div(class="col-sm-10")
								ui-select(ng-model="selected.disziplin" theme="bootstrap" ng-disabled="disabled" reset-search-input="true" on-select="actions.selectDisziplin()")
									ui-select-match {{selected.disziplin.title}}
									ui-select-choices(group-by="groupByType" repeat="disziplin in disziplinen | propsFilter: {title: $select.search}" )
										div {{disziplin.title}}
						div(class="form-group")
							label(class="col-sm-2 control-label") Mode
							div(class="col-sm-10")
								ui-select(ng-model="selected.part" theme="bootstrap" ng-disabled="disabled" reset-search-input="false" on-select="actions.selectPart()")
									ui-select-match {{selected.part.title}}
									ui-select-choices(repeat="part in parts | propsFilter: {title: $select.search}")
										div {{part.title}}
						div(class="form-group")
							label(for="" class="col-md-2 control-label") Drucken
							div(class="btn-group col-md-10" role="group")
								button(type="submit" class="btn btn-default col-md-12 noMargin" ng-click="actions.print(true)")
									span(class="glyphicon glyphicon glyphicon-print" aria-hidden="true")
									|  Ausdruck erstellen
						div(class="form-group")
							label(for="" class="col-md-2 control-label") Scheibe
							div(class="btn-group col-md-10" role="group")
								button(type="submit" class="btn btn-default col-md-12 noMargin" ng-click="actions.newTarget()")
									span(class="glyphicon glyphicon glyphicon-plus" aria-hidden="true")
									|  Neue Scheibe
		
		
			//- Message
			.col-md-6
				div(class="bs-callout bs-callout-info" ng-hide="store.linesSelectedCount == 0")
					h4 Nachricht
					div(class="form-horizontal")
						div(class="form-group")
							label(class="col-sm-2 control-label") Art
							div(class="col-sm-10")
									select(name=name class="selectpicker "+name style="width:100%" ng-model="messageType")
										option(value="danger" selected="selected") Warnung
										option(value="default") Info
						div(class="form-group")
							label(class="col-sm-2 control-label") Text
							div(class="col-sm-10")
								input(type="text" class="form-control" id="alertTitle" ng-model="messageTitle" placeholder="Title")
						div(class="form-group")
							label(class="col-sm-2 control-label") Vorlagen
							div(class="btn-group col-md-10" role="group")
								button(type="submit" class="btn btn-danger col-md-6" ng-click="showMessageType('sicherheit')")
									|  Sicherheit
								button(type="submit" class="btn btn-info col-md-6" ng-click="showMessageType('pause')")
									|  Pause
						div(class="form-group")
							label(class="col-sm-2 control-label") 
							div(class="btn-group col-md-10" role="group")
								button(type="submit" class="btn btn-default col-md-6" ng-click="showMessage(true)")
									span(class="glyphicon glyphicon glyphicon-eye-open" aria-hidden="true")
									|  Zeigen
								button(type="submit" class="btn btn-default col-md-6" ng-click="showMessage(false)")
									span(class="glyphicon glyphicon glyphicon-eye-close" aria-hidden="true")
									|  Verstecken
		
		
			//- User
			.col-md-6
				div(class="bs-callout bs-callout-info" ng-hide="store.linesSelectedCount != 1")
					h4 Schütze
					div(class="form-horizontal")
						div(class="form-group")
							label(class="col-sm-2 control-label") Verein
							div(class="col-sm-10")
								ui-select(ng-model="selected.verein" theme="bootstrap" ng-disabled="false" reset-search-input="true" on-select="selectVerein()")
									ui-select-match {{selected.verein.name}}
									ui-select-choices(repeat="verein in vereine | propsFilter: {name: $select.search}")
										div {{verein.name}}
						div(class="form-group")
							label(class="col-sm-2 control-label") Schütze
							div(class="col-sm-10")
								ui-select(ng-model="selected.schuetze" theme="bootstrap" ng-disabled="selected.verein == undefined" reset-search-input="false" on-select="selectSchuetze()")
									ui-select-match {{selected.schuetze.firstName}} {{selected.schuetze.lastName}}
									ui-select-choices(repeat="schuetze in schuetzen | propsFilter: {firstName: $select.search, lastName: $select.search}")
										div {{schuetze.firstName}} {{schuetze.lastName}}



		//- scrpt.
		//- 	var dsmSocket = io()
		//- 	var event = new Event('build')
		//- 
		//- 	var config = !{JSON.stringify(config)}
		//- 	var vereine = !{JSON.stringify(vereine)}
		//- 	var schuetzen = []
		
